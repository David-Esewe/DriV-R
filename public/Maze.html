<!DOCTYPE html>
<html>
    <head>
        <title>DriV-R</title>
        <meta name="description" content="DriV-R">
        <link rel="stylesheet" href="css/style.css">
         <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.3.4/dist/aframe-environment-component.min.js"></script> 
        <script src="js/aframe.min.js"></script> <!-- aframe 1.5.0 -->
        <script src="js/aframe-environment-component.min.js"></script> <!-- aframe-environment-component 1.3.4 -->
        <script src="https://unpkg.com/aframe-extras/dist/aframe-extras.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.140.0/build/three.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="js/simple-navmesh-constraint.js"></script>
        <script src="js/avatar.js"></script>
        <!-- <script src="js/avatar.js"></script> -->

        
        
       
        
        


       <!-- <script src="js/spinning-effect.js"></script>-->
      </head>
<body>
   

    <a-scene cursor="rayOrigin: mouse">
        <a-assets>
    
            

        </a-assets>
        
        
        <a-entity id="maze" gltf-model="assets/maze.glb" position="0.79486 0 0"></a-entity>
        <a-gltf-model class="navmesh" src="#navmesh-glb" gltf-model="assets/mazenav.glb" position="0 -0.73932 0" visible="false"></a-gltf-model>
        <!-- <a-camera wasd-controls="acceleration: 20" simple-navmesh-constraint="navmesh: .navmesh; height: 1.65" look-controls position="-37.963 0.691 -13.075"></a-camera> -->
       
        <a-camera wasd-controls="acceleration: 70" simple-navmesh-constraint="navmesh: .navmesh; height: 1.65" position="-49.32526643327706 1.688113177700905 95.99443705232666"></a-camera>
       
     

   
        <!--The enviroments and lights-->
      
        <a-entity environment="preset: default;" ></a-entity>
        <a-entity rotation="-90 0 0" class="environmentGround environment" visible="" scale="1 1 3" shadow="cast: false; receive: false" light="intensity: 0.26; type: hemisphere"></a-entity>
       
        
    </a-scene>
        <!--Main Buttons-->

        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
              const urlParams = new URLSearchParams(window.location.search);
              const role = urlParams.get('role');
          
              const cameraEl = document.querySelector('a-camera');
          
              if (role === 'helper') {
                // Adjust the camera for the helper role
                cameraEl.setAttribute('position', '10.65859 206.50639 -0.79596');
                cameraEl.setAttribute('wasd-controls', 'enabled: false'); // Disable movement controls
                cameraEl.setAttribute('look-controls', 'enabled: false');
                cameraEl.setAttribute('rotation', '-90 -269.63393838856484 0');
                
              } else {
                // Default settings for 'player' role or any other scenario
                cameraEl.setAttribute('position', '-49.32526643327706 1.688113177700905 95.99443705232666');
                cameraEl.setAttribute('wasd-controls', 'acceleration: 70');
                // Ensure look-controls are enabled for navigation
                cameraEl.setAttribute('look-controls', 'enabled: true');
              }
            });
          </script>
          
    
</body>
</html>
